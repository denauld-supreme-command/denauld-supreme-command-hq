<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Executive Command Center - Philadelphia Eagles</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* AMT Brand Colors */
            --amt-red: #e2021a;
            --amt-dark: #1b151a;
            --amt-blue-gray: #4e5064;
            --amt-gray: #818284;
            --amt-dark-gray: #5c5b66;
            --amt-very-dark: #1a181a;
            --amt-light-gray: #a1a1a1;
            --amt-black: #000000;
            --amt-accent: #d4db69;
            --amt-white: #ffffff;
            
            /* Team accent (dynamic per team) */
            --team-accent: #004C54;
            --team-secondary: #A5ACAF;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--amt-very-dark) 0%, var(--amt-dark) 100%);
            color: var(--amt-white);
            min-height: 100vh;
            overflow-x: auto;
            min-width: 1800px;
        }

        .command-center {
            display: grid;
            grid-template-rows: 40px 60px 1fr;
            min-height: 100vh;
            gap: 1px;
            background: var(--amt-gray);
        }

        /* Daily Transactions Ticker */
        .transactions-ticker {
            background: var(--amt-black);
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--amt-red);
        }

        .ticker-label {
            background: var(--amt-red);
            color: var(--amt-white);
            padding: 0 1rem;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            height: 100%;
            display: flex;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .ticker-content {
            display: flex;
            align-items: center;
            white-space: nowrap;
            animation: scroll-left 60s linear infinite;
            font-size: 0.75rem;
            font-weight: 500;
        }

        @keyframes scroll-left {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .ticker-item {
            margin-right: 3rem;
            color: var(--amt-white);
        }

        .ticker-team {
            color: var(--amt-accent);
            font-weight: 600;
        }

        .ticker-action {
            color: var(--amt-red);
            font-weight: 600;
        }

        .ticker-player {
            color: var(--team-accent);
            font-weight: 600;
        }

        /* Smart Header */
        .smart-header {
            background: var(--amt-dark);
            display: flex;
            align-items: center;
            padding: 0 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            gap: 2rem;
        }

        /* Leadership Team Styles */
        .leadership-team {
            flex: 1;
            max-width: 100%;
            overflow: hidden;
        }

        .leadership-scroll {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding: 0.5rem 0;
        }

        .leadership-scroll::-webkit-scrollbar {
            display: none;
        }

        .leader-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.75rem;
            min-width: 120px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .leader-card:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--amt-accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 219, 105, 0.2);
        }

        .leader-info {
            text-align: center;
        }

        .leader-name {
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--amt-white);
            line-height: 1.1;
            margin-bottom: 0.25rem;
        }

        .leader-role {
            font-size: 0.55rem;
            color: var(--amt-accent);
            font-weight: 500;
            line-height: 1.1;
        }

        .header-nav {
            display: flex;
            gap: 1rem;
        }

        .nav-tab {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--amt-light-gray);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            text-transform: uppercase;
        }

        .nav-tab:hover, .nav-tab.active {
            background: var(--amt-red);
            color: var(--amt-white);
            border-color: var(--amt-red);
        }

        /* Module Detail View Styles */
        .module-detail-view {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--amt-very-dark);
            z-index: 1000;
            overflow-y: auto;
        }

        .module-detail-view.active {
            display: block;
        }

        .detail-header {
            background: var(--amt-dark);
            padding: 1rem 2rem;
            border-bottom: 2px solid var(--amt-red);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1001;
        }

        .detail-nav {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-btn {
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .back-btn:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
        }

        .breadcrumb {
            font-size: 0.8rem;
            color: var(--amt-light-gray);
        }

        .breadcrumb-current {
            color: var(--amt-accent);
            font-weight: 600;
        }

        .detail-content {
            min-height: calc(100vh - 80px);
            overflow-y: auto;
        }

        /* Dynamic Command Dashboard */
        .command-dashboard {
            display: grid;
            grid-template-columns: 320px 1fr 300px;
            min-height: calc(100vh - 100px);
            gap: 1px;
            background: var(--amt-gray);
        }

        /* AI-Powered Insights Sidebar */
        .insights-sidebar {
            background: var(--amt-dark);
            padding: 1rem;
            overflow-y: auto;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .insight-section {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--amt-red);
            cursor: pointer;
            transition: all 0.2s;
        }

        .insight-section:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .insight-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .gm-photo {
            margin-left: auto;
        }

        .gm-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid var(--amt-accent);
            background: var(--amt-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--amt-black);
            font-size: 0.7rem;
        }

        .insight-icon {
            width: 16px;
            height: 16px;
            background: var(--amt-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            color: var(--amt-white);
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .insight-icon::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 4px;
            background: var(--amt-accent);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: all 0.3s ease;
        }

        .insight-icon:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
            transform: scale(1.2);
        }

        .insight-icon:hover::before {
            transform: translate(-50%, -50%) scale(1);
            animation: pulse-dot 1s ease-in-out infinite;
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.3; transform: translate(-50%, -50%) scale(1.5); }
        }

        /* Specific Icon Animations */
        .alert-icon::after {
            content: '!';
            font-weight: bold;
        }

        .chart-icon::before {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            border: 1px solid currentColor;
            border-radius: 1px;
            transform: translate(-50%, -50%);
        }

        .chart-icon:hover::before {
            animation: chart-pulse 0.6s ease-in-out infinite;
        }

        @keyframes chart-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.3); }
        }

        .bulb-icon::before {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
            transform: translate(-50%, -50%);
        }

        .bulb-icon:hover::before {
            animation: bulb-flash 0.8s ease-in-out infinite;
        }

        @keyframes bulb-flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; box-shadow: 0 0 8px currentColor; }
        }

        .target-icon::before {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            border: 2px solid currentColor;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .target-icon::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 4px;
            background: currentColor;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .target-icon:hover::before {
            animation: target-zoom 0.7s ease-in-out infinite;
        }

        @keyframes target-zoom {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.4); }
        }

        .warning-icon::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-bottom: 6px solid currentColor;
            transform: translate(-50%, -60%);
        }

        .warning-icon::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 2px;
            background: currentColor;
            border-radius: 50%;
            transform: translate(-50%, 20%);
        }

        .warning-icon:hover {
            animation: warning-shake 0.5s ease-in-out infinite;
        }

        @keyframes warning-shake {
            0%, 100% { transform: scale(1.2) translateX(0); }
            25% { transform: scale(1.2) translateX(-1px); }
            75% { transform: scale(1.2) translateX(1px); }
        }

        .calendar-icon::before {
            content: '';
            position: absolute;
            width: 8px;
            height: 6px;
            border: 1px solid currentColor;
            border-radius: 1px;
            transform: translate(-50%, -40%);
        }

        .calendar-icon::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 2px;
            background: currentColor;
            transform: translate(-50%, 10%);
        }

        .calendar-icon:hover::before {
            animation: calendar-bounce 0.6s ease-in-out infinite;
        }

        @keyframes calendar-bounce {
            0%, 100% { transform: translate(-50%, -40%) scale(1); }
            50% { transform: translate(-50%, -40%) scale(1.2); }
        }

        .insight-title {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--amt-white);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .insight-content {
            font-size: 0.75rem;
            color: var(--amt-light-gray);
            line-height: 1.4;
            margin-bottom: 0.75rem;
        }

        .insight-action {
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            width: 100%;
        }

        .insight-action:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
        }

        .priority-alerts {
            border-left-color: var(--amt-accent);
        }

        .market-intel {
            border-left-color: var(--team-accent);
        }

        .schedule-section {
            border-left-color: #10b981;
        }

        /* Schedule Styles */
        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 2px solid transparent;
        }

        .schedule-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left-color: var(--amt-accent);
        }

        .schedule-game {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .opponent {
            font-weight: 700;
            color: var(--amt-white);
            font-size: 0.7rem;
        }

        .game-info {
            font-size: 0.6rem;
            color: var(--amt-light-gray);
        }

        .game-status {
            font-size: 0.6rem;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .game-status.upcoming {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .game-status.analyzing {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        /* Executive Intelligence Grid */
        .intelligence-grid {
            background: var(--amt-very-dark);
            padding: 1rem;
            display: grid;
            grid-template-rows: auto auto;
            gap: 1rem;
        }

        .command-overview {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--amt-red) var(--amt-dark);
            padding-bottom: 10px;
            margin-bottom: 1rem;
        }

        .command-overview::-webkit-scrollbar {
            height: 8px;
        }

        .command-overview::-webkit-scrollbar-track {
            background: var(--amt-dark);
            border-radius: 4px;
        }

        .command-overview::-webkit-scrollbar-thumb {
            background: var(--amt-red);
            border-radius: 4px;
        }

        .command-overview::-webkit-scrollbar-thumb:hover {
            background: var(--amt-accent);
        }

        .intel-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 280px;
            flex-shrink: 0;
        }

        .intel-card:hover {
            border-color: var(--amt-red);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(226, 2, 26, 0.2);
        }

        .intel-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--amt-red), var(--amt-accent));
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }

        .card-title {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--amt-white);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--amt-accent);
            animation: pulse 2s ease-in-out infinite;
        }

        .card-metric {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--amt-accent);
            margin-bottom: 0.25rem;
        }

        .card-label {
            font-size: 0.7rem;
            color: var(--amt-light-gray);
            text-transform: uppercase;
        }

        .card-trend {
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--amt-accent);
            margin-top: 0.5rem;
        }

        .drill-down-btn {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .drill-down-btn:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
            transform: scale(1.1);
        }

        /* Deep Intelligence Panel */
        .deep-intel {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--amt-accent) var(--amt-dark);
            padding-bottom: 10px;
        }

        .deep-intel::-webkit-scrollbar {
            height: 8px;
        }

        .deep-intel::-webkit-scrollbar-track {
            background: var(--amt-dark);
            border-radius: 4px;
        }

        .deep-intel::-webkit-scrollbar-thumb {
            background: var(--amt-accent);
            border-radius: 4px;
        }

        .deep-intel::-webkit-scrollbar-thumb:hover {
            background: var(--amt-red);
        }

        .intel-module {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 320px;
            flex-shrink: 0;
        }

        .intel-module:hover {
            border-color: var(--team-accent);
            background: rgba(255, 255, 255, 0.05);
        }

        .module-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .module-title {
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--amt-white);
            text-transform: uppercase;
        }

        .module-indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--amt-accent);
        }

        .module-data {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .data-value {
            font-size: 1rem;
            font-weight: 700;
            color: var(--amt-accent);
        }

        .data-change {
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--amt-accent);
        }

        /* Enhanced Module Styles */
        .module-preview {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            max-height: 120px;
        }

        .preview-scroll {
            max-height: 100px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--amt-accent) var(--amt-dark);
        }

        .preview-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.4rem 0.5rem;
            margin-bottom: 0.3rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 2px solid transparent;
        }

        .preview-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left-color: var(--amt-accent);
            transform: translateX(2px);
        }

        .preview-label {
            font-size: 0.65rem;
            color: var(--amt-light-gray);
            font-weight: 500;
        }

        .preview-value {
            font-size: 0.65rem;
            font-weight: 700;
        }

        .preview-value.green { color: #22c55e; }
        .preview-value.yellow { color: #f59e0b; }
        .preview-value.red { color: #ef4444; }

        /* Module Breakdown Styles */
        .module-breakdown {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.65rem;
            display: none;
        }

        .breakdown-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--amt-red);
        }

        .breakdown-title {
            font-size: 0.7rem;
            font-weight: 700;
            color: var(--amt-red);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .breakdown-updated {
            font-size: 0.6rem;
            color: var(--amt-accent);
            font-style: italic;
        }

        .breakdown-section {
            margin-bottom: 1rem;
        }

        .section-label {
            font-size: 0.6rem;
            font-weight: 700;
            color: var(--amt-accent);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 0.25rem;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            margin-bottom: 0.3rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 2px solid transparent;
        }

        .breakdown-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-left-color: var(--amt-red);
            transform: translateX(3px);
        }

        .breakdown-label {
            color: var(--amt-light-gray);
            font-weight: 500;
        }

        .breakdown-value {
            font-weight: 700;
        }

        .breakdown-value.green {
            color: #22c55e;
        }

        .breakdown-value.yellow {
            color: #f59e0b;
        }

        .breakdown-value.red {
            color: #ef4444;
        }

        .breakdown-arrow {
            color: var(--amt-red);
            font-weight: 700;
            opacity: 0;
            transition: all 0.2s;
        }

        .breakdown-item:hover .breakdown-arrow {
            opacity: 1;
        }

        .breakdown-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .breakdown-action-btn {
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            padding: 0.5rem 0.8rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
        }

        .breakdown-action-btn:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
        }

        .breakdown-action-btn.secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--amt-light-gray);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .breakdown-action-btn.secondary:hover {
            background: var(--team-accent);
            color: var(--amt-white);
        }

        /* Action Operations Panel */
        .operations-panel {
            background: var(--amt-dark);
            padding: 1rem;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .operation-section {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 1rem;
        }

        .section-title {
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--amt-white);
            text-transform: uppercase;
            margin-bottom: 0.75rem;
            letter-spacing: 0.5px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 0.5rem;
        }

        .quick-action {
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            padding: 0.6rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .quick-action:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
        }

        .quick-action.secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--amt-light-gray);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quick-action.secondary:hover {
            background: var(--team-accent);
            color: var(--amt-white);
            border-color: var(--team-accent);
        }

        .live-feed {
            max-height: 200px;
            overflow-y: auto;
        }

        .feed-item {
            padding: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 0.7rem;
            color: var(--amt-light-gray);
            line-height: 1.3;
        }

        .feed-time {
            color: var(--amt-accent);
            font-weight: 600;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: var(--amt-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--amt-gray);
            border-radius: 2px;
        }

        /* View Management */
        .view-section {
            display: none;
        }

        .view-section.active {
            display: block;
        }

        /* Chat Modal Styles */
        .chat-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .chat-container {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 400px;
            height: 600px;
            background: var(--amt-dark);
            border: 1px solid var(--amt-red);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(226, 2, 26, 0.3);
        }

        .chat-header {
            background: linear-gradient(45deg, var(--amt-red), var(--amt-accent));
            color: var(--amt-black);
            padding: 1rem;
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--amt-black);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--amt-white);
        }

        .chat-info h4 {
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .chat-info p {
            font-size: 0.7rem;
            opacity: 0.8;
        }

        .chat-close {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--amt-black);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .chat-close:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .message {
            max-width: 80%;
            padding: 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            line-height: 1.4;
        }

        .message.ai {
            background: var(--amt-red);
            color: var(--amt-white);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message.user {
            background: var(--amt-accent);
            color: var(--amt-black);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .chat-input-area {
            padding: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0.75rem 1rem;
            color: var(--amt-white);
            font-size: 0.8rem;
            outline: none;
        }

        .chat-input:focus {
            border-color: var(--amt-accent);
        }

        .chat-send {
            background: var(--amt-red);
            color: var(--amt-white);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .chat-send:hover {
            background: var(--amt-accent);
            color: var(--amt-black);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border: 2px solid var(--amt-accent);
            border-top: 2px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            transform: translate(-50%, -50%);
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="command-center">
        <!-- Daily Transactions Ticker -->
        <div class="transactions-ticker">
            <div class="ticker-label">LIVE NFL</div>
            <div class="ticker-content">
                <span class="ticker-item">
                    <span class="ticker-team">DAL</span> 
                    <span class="ticker-action">SIGNED</span> 
                    <span class="ticker-player">WR Mike Williams</span> 
                    to practice squad
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">NYG</span> 
                    <span class="ticker-action">RELEASED</span> 
                    <span class="ticker-player">LB Bobby Okereke</span>
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">WAS</span> 
                    <span class="ticker-action">PROMOTED</span> 
                    <span class="ticker-player">RB Chris Rodriguez</span> 
                    from practice squad
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">SF</span> 
                    <span class="ticker-action">PLACED ON IR</span> 
                    <span class="ticker-player">TE George Kittle</span>
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">BUF</span> 
                    <span class="ticker-action">ACTIVATED</span> 
                    <span class="ticker-player">S Taylor Rapp</span> 
                    from injured reserve
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">KC</span> 
                    <span class="ticker-action">WAIVED</span> 
                    <span class="ticker-player">K Matthew Wright</span>
                </span>
                <span class="ticker-item">
                    <span class="ticker-team">LAR</span> 
                    <span class="ticker-action">SIGNED</span> 
                    <span class="ticker-player">QB Jimmy Garoppolo</span> 
                    to futures contract
                </span>
            </div>
        </div>

        <!-- Smart Header -->
        <div class="smart-header">
            <!-- Leadership Team Section -->
            <div class="leadership-team">
                <div class="leadership-scroll">
                    <div class="leader-card" onclick="openChat('tony-rivera')">
                        <div class="leader-info">
                            <div class="leader-name">Tony Rivera</div>
                            <div class="leader-role">"The Triangle Specialist"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('derek-thompson')">
                        <div class="leader-info">
                            <div class="leader-name">Derek Thompson</div>
                            <div class="leader-role">"The Pressure Specialist"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('dr-marcus-johnson')">
                        <div class="leader-info">
                            <div class="leader-name">Dr. Marcus Johnson</div>
                            <div class="leader-role">"The Mind"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('amanda-thompson')">
                        <div class="leader-info">
                            <div class="leader-name">Coach Amanda Thompson</div>
                            <div class="leader-role">"The Mentor"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('roberto-gutierrez')">
                        <div class="leader-info">
                            <div class="leader-name">Roberto Gutierrez</div>
                            <div class="leader-role">"The Scout"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('sam-williams')">
                        <div class="leader-info">
                            <div class="leader-name">Sam Williams</div>
                            <div class="leader-role">"The Teacher"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('alex-chen')">
                        <div class="leader-info">
                            <div class="leader-name">Alex Chen</div>
                            <div class="leader-role">"The Optimizer"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('marcus-lewis')">
                        <div class="leader-info">
                            <div class="leader-name">Marcus Lewis</div>
                            <div class="leader-role">"The Coordinator"</div>
                        </div>
                    </div>
                    <div class="leader-card" onclick="openChat('michael-rodriguez')">
                        <div class="leader-info">
                            <div class="leader-name">Michael Rodriguez</div>
                            <div class="leader-role">"The Wall"</div>
                        </div>
                    </div>
                </div>
            </div>

            <nav class="header-nav">
                <a href="#" class="nav-tab" onclick="switchView('hq')">← HQ</a>
                <a href="#" class="nav-tab active" onclick="switchView('command')">Command</a>
                <a href="#" class="nav-tab" onclick="switchView('operations')">Operations</a>
                <a href="#" class="nav-tab" onclick="switchView('analytics')">Analytics</a>
                <a href="#" class="nav-tab" onclick="switchView('draft')">Draft</a>
            </nav>
        </div>

        <!-- Main Command Center View -->
        <div id="mainCommandCenter">
            <!-- Dynamic Command Dashboard -->
            <div class="view-section active" id="command-view">
                <div class="command-dashboard">
                <!-- AI-Powered Insights Sidebar -->
                <div class="insights-sidebar">
                    <div class="insight-section priority-alerts">
                        <div class="insight-header">
                            <div class="insight-icon alert-icon"></div>
                            <div class="insight-title">Priority Alert</div>
                        </div>
                        <div class="insight-content">
                            Jalen Carter injury concern - monitoring practice participation. Consider backup DT options.
                        </div>
                        <button class="insight-action" onclick="analyzeInsight('depth-chart')">Analyze Depth Chart</button>
                    </div>

                    <div class="insight-section market-intel">
                        <div class="insight-header">
                            <div class="insight-icon chart-icon"></div>
                            <div class="insight-title">Market Intel</div>
                        </div>
                        <div class="insight-content">
                            3 teams showing interest in available WR Calvin Ridley. Potential opportunity for depth.
                        </div>
                        <button class="insight-action" onclick="analyzeInsight('scout-report')">Scout Report</button>
                    </div>

                    <div class="insight-section">
                        <div class="insight-header">
                            <div class="insight-icon bulb-icon"></div>
                            <div class="insight-title">AI Suggestion</div>
                            <div class="gm-photo">
                                <div class="gm-avatar">MS</div>
                            </div>
                        </div>
                        <div class="insight-content">
                            Cap space optimization: Restructure Lane Johnson contract to free $4.2M for mid-season moves.
                        </div>
                        <button class="insight-action" onclick="analyzeInsight('scenarios')">Run Scenarios</button>
                    </div>

                    <div class="insight-section">
                        <div class="insight-header">
                            <div class="insight-icon target-icon"></div>
                            <div class="insight-title">Opportunity</div>
                        </div>
                        <div class="insight-content">
                            Cardinals releasing LB Zaven Collins. Perfect fit for Eagles linebacker needs.
                        </div>
                        <button class="insight-action" onclick="analyzeInsight('evaluate-fit')">Evaluate Fit</button>
                    </div>

                    <div class="insight-section">
                        <div class="insight-header">
                            <div class="insight-icon warning-icon"></div>
                            <div class="insight-title">Risk Monitor</div>
                        </div>
                        <div class="insight-content">
                            Darius Slay contract void risk if not extended by March 15th. $8.5M dead cap exposure.
                        </div>
                        <button class="insight-action" onclick="analyzeInsight('contract-analysis')">Contract Analysis</button>
                    </div>

                    <div class="insight-section schedule-section">
                        <div class="insight-header">
                            <div class="insight-icon calendar-icon"></div>
                            <div class="insight-title">Schedule Analysis</div>
                        </div>
                        <div class="insight-content">
                            Upcoming critical games require strategic planning. AI scenario modeling available.
                        </div>
                        
                        <div style="margin: 0.75rem 0;">
                            <div class="schedule-item" onclick="analyzeSchedule('dal-week10')">
                                <div class="schedule-game">
                                    <div class="opponent">vs DAL</div>
                                    <div class="game-info">Week 10 • Sun 1:00 PM</div>
                                </div>
                                <div class="game-status upcoming">Upcoming</div>
                            </div>
                            
                            <div class="schedule-item" onclick="analyzeSchedule('was-week11')">
                                <div class="schedule-game">
                                    <div class="opponent">@ WAS</div>
                                    <div class="game-info">Week 11 • Thu 8:15 PM</div>
                                </div>
                                <div class="game-status analyzing">Analyzing</div>
                            </div>
                            
                            <div class="schedule-item" onclick="analyzeSchedule('lac-week12')">
                                <div class="schedule-game">
                                    <div class="opponent">vs LAC</div>
                                    <div class="game-info">Week 12 • Sun 4:25 PM</div>
                                </div>
                                <div class="game-status upcoming">Upcoming</div>
                            </div>
                        </div>
                        
                        <button class="insight-action" onclick="analyzeInsight('schedule-scenarios')">Schedule Scenarios</button>
                    </div>
                </div>

                <!-- Executive Intelligence Grid -->
                <div class="intelligence-grid">
                    <!-- Command Overview -->
                    <div class="command-overview">
                        <div class="intel-card" onclick="toggleNFLCapIntel()">
                            <div class="card-header">
                                <div class="card-title">NFL Salary Cap Intel</div>
                                <div class="card-status"></div>
                            </div>
                            <div class="card-metric">32 Teams</div>
                            <div class="card-label">League-Wide Analysis</div>
                            <div class="card-trend">PHI: $4.2M Available</div>
                            <button class="drill-down-btn">→</button>
                        </div>

                        <div class="intel-card" onclick="drillDown('performance')">
                            <div class="card-header">
                                <div class="card-title">Team Performance</div>
                                <div class="card-status"></div>
                            </div>
                            <div class="card-metric">8.9</div>
                            <div class="card-label">Overall Rating</div>
                            <div class="card-trend">↗ +0.3 vs last week</div>
                            <button class="drill-down-btn">→</button>
                        </div>

                        <div class="intel-card" onclick="drillDown('playoff-odds')">
                            <div class="card-header">
                                <div class="card-title">Playoff Odds</div>
                                <div class="card-status"></div>
                            </div>
                            <div class="card-metric">91%</div>
                            <div class="card-label">Championship Path</div>
                            <div class="card-trend">↗ +5% this week</div>
                            <button class="drill-down-btn">→</button>
                        </div>
                    </div>

                    <!-- Deep Intelligence Panel -->
                    <div class="deep-intel">
                        <!-- Enhanced Roster Health Module -->
                        <div class="intel-module" onclick="toggleRosterHealth()">
                            <div class="module-header">
                                <div class="module-title">Roster Health</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">94%</div>
                                <div class="data-change">+2%</div>
                            </div>
                            
                            <!-- Scrollable Preview Panel (Collapsed State) -->
                            <div class="module-preview" id="roster-preview">
                                <div class="preview-scroll">
                                    <div class="preview-item" onclick="drillDeeper('injury-rate')">
                                        <span class="preview-label">Injury Rate</span>
                                        <span class="preview-value green">6%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('age-profile')">
                                        <span class="preview-label">Age Profile</span>
                                        <span class="preview-value green">26.4y</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('depth-quality')">
                                        <span class="preview-label">Depth Quality</span>
                                        <span class="preview-value yellow">78%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('durability')">
                                        <span class="preview-label">Durability</span>
                                        <span class="preview-value green">91%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('practice-participation')">
                                        <span class="preview-label">Practice</span>
                                        <span class="preview-value green">96%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('load-management')">
                                        <span class="preview-label">Load Mgmt</span>
                                        <span class="preview-value green">100%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('recovery-metrics')">
                                        <span class="preview-label">Recovery</span>
                                        <span class="preview-value green">89%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('conditioning')">
                                        <span class="preview-label">Conditioning</span>
                                        <span class="preview-value green">92%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('roster-composition')">
                                        <span class="preview-label">Roster</span>
                                        <span class="preview-value green">53/53</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Detailed Breakdown (Expanded State) -->
                            <div class="module-breakdown" id="roster-breakdown" style="display: none;">
                                <div class="breakdown-header">
                                    <span class="breakdown-title">COMPREHENSIVE HEALTH ANALYSIS</span>
                                    <span class="breakdown-updated">Updated 3 min ago</span>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">PHYSICAL METRICS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('injury-rate')">
                                        <span class="breakdown-label">Injury Rate:</span>
                                        <span class="breakdown-value green">6% (League Avg: 12%)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('age-profile')">
                                        <span class="breakdown-label">Age Profile:</span>
                                        <span class="breakdown-value green">26.4 yrs (Optimal)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('durability')">
                                        <span class="breakdown-label">Durability Score:</span>
                                        <span class="breakdown-value green">91% (5-yr avg)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">OPERATIONAL METRICS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('practice-participation')">
                                        <span class="breakdown-label">Practice Participation:</span>
                                        <span class="breakdown-value green">96% (Full speed)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('load-management')">
                                        <span class="breakdown-label">Load Management:</span>
                                        <span class="breakdown-value green">Optimized (0 overuse)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('depth-quality')">
                                        <span class="breakdown-label">Depth Quality:</span>
                                        <span class="breakdown-value yellow">78% (CB concern)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">PERFORMANCE METRICS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('recovery-metrics')">
                                        <span class="breakdown-label">Recovery Rate:</span>
                                        <span class="breakdown-value green">89% (Above target)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('conditioning')">
                                        <span class="breakdown-label">Conditioning Level:</span>
                                        <span class="breakdown-value green">92% (Peak form)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('mental-health')">
                                        <span class="breakdown-label">Mental Health Index:</span>
                                        <span class="breakdown-value green">94% (Excellent)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-actions">
                                    <button class="breakdown-action-btn" onclick="generateHealthReport()">Full Health Report</button>
                                    <button class="breakdown-action-btn secondary" onclick="scheduleCheckup()">Schedule Team Checkup</button>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Contract Efficiency Module -->
                        <div class="intel-module" onclick="toggleContractEfficiency()">
                            <div class="module-header">
                                <div class="module-title">Contract Efficiency</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">87%</div>
                                <div class="data-change">-1%</div>
                            </div>
                            
                            <!-- Scrollable Preview Panel (Collapsed State) -->
                            <div class="module-preview" id="contract-preview">
                                <div class="preview-scroll">
                                    <div class="preview-item" onclick="drillDeeper('cap-efficiency')">
                                        <span class="preview-label">Cap Efficiency</span>
                                        <span class="preview-value green">94%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('contract-deadlines')">
                                        <span class="preview-label">Deadlines</span>
                                        <span class="preview-value red">2 urgent</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('restructure-opportunities')">
                                        <span class="preview-label">Restructures</span>
                                        <span class="preview-value yellow">$4.2M</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('performance-value')">
                                        <span class="preview-label">Performance</span>
                                        <span class="preview-value green">89%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('agent-relations')">
                                        <span class="preview-label">Agent Relations</span>
                                        <span class="preview-value green">92%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('trade-scenarios')">
                                        <span class="preview-label">Trade Value</span>
                                        <span class="preview-value yellow">$47M</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('extension-targets')">
                                        <span class="preview-label">Extensions</span>
                                        <span class="preview-value green">3 priority</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('salary-distribution')">
                                        <span class="preview-label">Distribution</span>
                                        <span class="preview-value green">Balanced</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Detailed Breakdown (Expanded State) -->
                            <div class="module-breakdown" id="contract-breakdown" style="display: none;">
                                <div class="breakdown-header">
                                    <span class="breakdown-title">CONTRACT INTELLIGENCE ANALYSIS</span>
                                    <span class="breakdown-updated">Updated 5 min ago</span>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">URGENT ACTIONS</div>
                                    <div class="breakdown-item" onclick="contractDetails('slay')">
                                        <span class="breakdown-label">Darius Slay:</span>
                                        <span class="breakdown-value red">Void: Mar 15 ($8.5M dead cap)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="contractDetails('johnson')">
                                        <span class="breakdown-label">Lane Johnson:</span>
                                        <span class="breakdown-value yellow">Extension Window: Jun 1</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">EFFICIENCY METRICS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('cap-efficiency')">
                                        <span class="breakdown-label">Cap Efficiency:</span>
                                        <span class="breakdown-value green">94% (Top 5 NFL)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('performance-value')">
                                        <span class="breakdown-label">Performance Value:</span>
                                        <span class="breakdown-value green">89% vs contract</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('salary-distribution')">
                                        <span class="breakdown-label">Salary Distribution:</span>
                                        <span class="breakdown-value green">Balanced across positions</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-actions">
                                    <button class="breakdown-action-btn" onclick="generateContractReport()">Contract Analysis Report</button>
                                    <button class="breakdown-action-btn secondary" onclick="scheduleAgentMeetings()">Schedule Agent Meetings</button>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Draft Capital Module -->
                        <div class="intel-module" onclick="toggleDraftCapital()">
                            <div class="module-header">
                                <div class="module-title">Draft Capital</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">7 Picks</div>
                                <div class="data-change">+1</div>
                            </div>
                            
                            <!-- Scrollable Preview Panel (Collapsed State) -->
                            <div class="module-preview" id="draft-preview">
                                <div class="preview-scroll">
                                    <div class="preview-item" onclick="drillDeeper('draft-value')">
                                        <span class="preview-label">Total Value</span>
                                        <span class="preview-value green">1,848 pts</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('round-1')">
                                        <span class="preview-label">Round 1</span>
                                        <span class="preview-value green">#22</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('round-2')">
                                        <span class="preview-label">Round 2</span>
                                        <span class="preview-value green">#54</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('position-needs')">
                                        <span class="preview-label">Position Needs</span>
                                        <span class="preview-value yellow">CB priority</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('trade-opportunities')">
                                        <span class="preview-label">Trade Ops</span>
                                        <span class="preview-value green">3 active</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('draft-strategy')">
                                        <span class="preview-label">Strategy</span>
                                        <span class="preview-value green">BPA 67%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('board-rankings')">
                                        <span class="preview-label">Big Board</span>
                                        <span class="preview-value green">Updated</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('compensatory')">
                                        <span class="preview-label">Comp Picks</span>
                                        <span class="preview-value green">2 expected</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Detailed Breakdown (Expanded State) -->
                            <div class="module-breakdown" id="draft-breakdown" style="display: none;">
                                <div class="breakdown-header">
                                    <span class="breakdown-title">DRAFT CAPITAL ANALYSIS</span>
                                    <span class="breakdown-updated">Updated 1 min ago</span>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">DRAFT PICKS INVENTORY</div>
                                    <div class="breakdown-item" onclick="drillDeeper('round-1')">
                                        <span class="breakdown-label">Round 1 (#22):</span>
                                        <span class="breakdown-value green">1,240 points</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('round-2')">
                                        <span class="breakdown-label">Round 2 (#54):</span>
                                        <span class="breakdown-value green">380 points</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('round-3')">
                                        <span class="breakdown-label">Round 3 (#87):</span>
                                        <span class="breakdown-value green">136 points</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('later-rounds')">
                                        <span class="breakdown-label">Rounds 4-7:</span>
                                        <span class="breakdown-value green">92 points (4 picks)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">POSITION PRIORITIES</div>
                                    <div class="breakdown-item" onclick="drillDeeper('cb-need')">
                                        <span class="breakdown-label">Cornerback:</span>
                                        <span class="breakdown-value red">High Priority</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('safety-need')">
                                        <span class="breakdown-label">Safety:</span>
                                        <span class="breakdown-value red">High Priority</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('lb-need')">
                                        <span class="breakdown-label">Linebacker:</span>
                                        <span class="breakdown-value yellow">Medium Priority</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-actions">
                                    <button class="breakdown-action-btn" onclick="generateDraftReport()">Draft Strategy Report</button>
                                    <button class="breakdown-action-btn secondary" onclick="runDraftSimulator()">Run Draft Simulator</button>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced Trade Assets Module -->
                        <div class="intel-module" onclick="toggleTradeAssets()">
                            <div class="module-header">
                                <div class="module-title">Trade Assets</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">$47M</div>
                                <div class="data-change">↗</div>
                            </div>
                            
                            <!-- Scrollable Preview Panel (Collapsed State) -->
                            <div class="module-preview" id="trade-preview">
                                <div class="preview-scroll">
                                    <div class="preview-item" onclick="drillDeeper('asset-valuation')">
                                        <span class="preview-label">Total Value</span>
                                        <span class="preview-value green">$47M</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('player-assets')">
                                        <span class="preview-label">Player Assets</span>
                                        <span class="preview-value green">8 tradeable</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('draft-picks')">
                                        <span class="preview-label">Draft Picks</span>
                                        <span class="preview-value green">7 available</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('cap-space')">
                                        <span class="preview-label">Cap Space</span>
                                        <span class="preview-value yellow">$4.2M</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('market-demand')">
                                        <span class="preview-label">Market Demand</span>
                                        <span class="preview-value green">High</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('trade-interest')">
                                        <span class="preview-label">Active Interest</span>
                                        <span class="preview-value green">5 teams</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('contract-flexibility')">
                                        <span class="preview-label">Contract Flex</span>
                                        <span class="preview-value green">89%</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('deadline-pressure')">
                                        <span class="preview-label">Deadline Press</span>
                                        <span class="preview-value yellow">Medium</span>
                                    </div>
                                    <div class="preview-item" onclick="drillDeeper('leverage-position')">
                                        <span class="preview-label">Leverage</span>
                                        <span class="preview-value green">Strong</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Detailed Breakdown (Expanded State) -->
                            <div class="module-breakdown" id="trade-breakdown" style="display: none;">
                                <div class="breakdown-header">
                                    <span class="breakdown-title">TRADE ASSET ANALYSIS</span>
                                    <span class="breakdown-updated">Updated 7 min ago</span>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">HIGH-VALUE ASSETS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('slay-trade-value')">
                                        <span class="breakdown-label">Darius Slay:</span>
                                        <span class="breakdown-value green">$12M value (5 teams interested)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('johnson-trade-value')">
                                        <span class="breakdown-label">Lane Johnson:</span>
                                        <span class="breakdown-value green">$18M value (3 teams interested)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('first-round-pick')">
                                        <span class="breakdown-label">1st Round Pick (#22):</span>
                                        <span class="breakdown-value green">$14M equivalent value</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">MARKET CONDITIONS</div>
                                    <div class="breakdown-item" onclick="drillDeeper('cb-market')">
                                        <span class="breakdown-label">CB Market Demand:</span>
                                        <span class="breakdown-value green">Very High (8 teams need)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="drillDeeper('ol-market')">
                                        <span class="breakdown-label">OL Market Demand:</span>
                                        <span class="breakdown-value yellow">Moderate (4 teams need)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-actions">
                                    <button class="breakdown-action-btn" onclick="generateTradeReport()">Trade Valuation Report</button>
                                    <button class="breakdown-action-btn secondary" onclick="openTradeSimulator()">Trade Simulator</button>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced NFL Salary Cap Intelligence Module -->
                        <div class="intel-module" onclick="toggleNFLCapIntel()">
                            <div class="module-header">
                                <div class="module-title">NFL Salary Cap Intel</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">32 Teams</div>
                                <div class="data-change">Live Data</div>
                            </div>
                            
                            <!-- NFL Teams Preview Panel (Collapsed State) -->
                            <div class="module-preview" id="nfl-cap-preview">
                                <div class="preview-scroll">
                                    <div class="preview-item" onclick="viewTeamCap('PHI')" style="border-left-color: #004C54; background: rgba(0, 76, 84, 0.1);">
                                        <span class="preview-label">🦅 Philadelphia Eagles</span>
                                        <span class="preview-value green">$4.2M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('DAL')">
                                        <span class="preview-label">⭐ Dallas Cowboys</span>
                                        <span class="preview-value red">-$2.1M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('NYG')">
                                        <span class="preview-label">🏟️ New York Giants</span>
                                        <span class="preview-value yellow">$8.7M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('WAS')">
                                        <span class="preview-label">🏛️ Washington Commanders</span>
                                        <span class="preview-value green">$12.4M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('BUF')">
                                        <span class="preview-label">🦬 Buffalo Bills</span>
                                        <span class="preview-value yellow">$6.8M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('MIA')">
                                        <span class="preview-label">🐬 Miami Dolphins</span>
                                        <span class="preview-value red">-$1.3M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('NE')">
                                        <span class="preview-label">🏆 New England Patriots</span>
                                        <span class="preview-value green">$15.2M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('NYJ')">
                                        <span class="preview-label">✈️ New York Jets</span>
                                        <span class="preview-value yellow">$3.9M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('KC')">
                                        <span class="preview-label">👑 Kansas City Chiefs</span>
                                        <span class="preview-value red">-$3.4M</span>
                                    </div>
                                    <div class="preview-item" onclick="viewTeamCap('LV')">
                                        <span class="preview-label">🏴‍☠️ Las Vegas Raiders</span>
                                        <span class="preview-value green">$11.7M</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- NFL Teams Detailed Breakdown (Expanded State) -->
                            <div class="module-breakdown" id="nfl-cap-breakdown" style="display: none;">
                                <div class="breakdown-header">
                                    <span class="breakdown-title">NFL SALARY CAP INTELLIGENCE</span>
                                    <span class="breakdown-updated">Live Data • Updated 30 sec ago</span>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">AFC EAST</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('BUF')" style="background: rgba(0, 51, 141, 0.1);">
                                        <span class="breakdown-label">🦬 Buffalo Bills:</span>
                                        <span class="breakdown-value yellow">$6.8M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('MIA')" style="background: rgba(0, 142, 151, 0.1);">
                                        <span class="breakdown-label">🐬 Miami Dolphins:</span>
                                        <span class="breakdown-value red">-$1.3M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('NE')" style="background: rgba(0, 34, 68, 0.1);">
                                        <span class="breakdown-label">🏆 New England Patriots:</span>
                                        <span class="breakdown-value green">$15.2M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('NYJ')" style="background: rgba(18, 87, 64, 0.1);">
                                        <span class="breakdown-label">✈️ New York Jets:</span>
                                        <span class="breakdown-value yellow">$3.9M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">AFC NORTH</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('BAL')" style="background: rgba(26, 25, 95, 0.1);">
                                        <span class="breakdown-label">🐦‍⬛ Baltimore Ravens:</span>
                                        <span class="breakdown-value yellow">$2.7M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('CIN')" style="background: rgba(251, 79, 20, 0.1);">
                                        <span class="breakdown-label">🐅 Cincinnati Bengals:</span>
                                        <span class="breakdown-value green">$9.4M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('CLE')" style="background: rgba(49, 29, 0, 0.1);">
                                        <span class="breakdown-label">🐶 Cleveland Browns:</span>
                                        <span class="breakdown-value red">-$4.6M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('PIT')" style="background: rgba(255, 182, 18, 0.1);">
                                        <span class="breakdown-label">🟡 Pittsburgh Steelers:</span>
                                        <span class="breakdown-value yellow">$5.1M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">AFC SOUTH</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('HOU')" style="background: rgba(3, 32, 47, 0.1);">
                                        <span class="breakdown-label">🤠 Houston Texans:</span>
                                        <span class="breakdown-value green">$18.3M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('IND')" style="background: rgba(0, 44, 95, 0.1);">
                                        <span class="breakdown-label">🐎 Indianapolis Colts:</span>
                                        <span class="breakdown-value green">$13.7M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('JAX')" style="background: rgba(215, 162, 42, 0.1);">
                                        <span class="breakdown-label">🐆 Jacksonville Jaguars:</span>
                                        <span class="breakdown-value yellow">$7.9M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('TEN')" style="background: rgba(12, 35, 64, 0.1);">
                                        <span class="breakdown-label">⚔️ Tennessee Titans:</span>
                                        <span class="breakdown-value green">$22.1M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">AFC WEST</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('DEN')" style="background: rgba(251, 79, 20, 0.1);">
                                        <span class="breakdown-label">🐴 Denver Broncos:</span>
                                        <span class="breakdown-value green">$16.8M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('KC')" style="background: rgba(227, 24, 55, 0.1);">
                                        <span class="breakdown-label">👑 Kansas City Chiefs:</span>
                                        <span class="breakdown-value red">-$3.4M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('LV')" style="background: rgba(165, 172, 175, 0.1);">
                                        <span class="breakdown-label">🏴‍☠️ Las Vegas Raiders:</span>
                                        <span class="breakdown-value green">$11.7M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('LAC')" style="background: rgba(0, 128, 198, 0.1);">
                                        <span class="breakdown-label">⚡ Los Angeles Chargers:</span>
                                        <span class="breakdown-value yellow">$4.3M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">NFC EAST</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('DAL')" style="background: rgba(0, 53, 148, 0.1);">
                                        <span class="breakdown-label">⭐ Dallas Cowboys:</span>
                                        <span class="breakdown-value red">-$2.1M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('NYG')" style="background: rgba(1, 35, 82, 0.1);">
                                        <span class="breakdown-label">🏟️ New York Giants:</span>
                                        <span class="breakdown-value yellow">$8.7M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('PHI')" style="background: rgba(0, 76, 84, 0.2); border: 2px solid var(--team-accent);">
                                        <span class="breakdown-label">🦅 Philadelphia Eagles (YOUR TEAM):</span>
                                        <span class="breakdown-value green">$4.2M available (+$1.2M)</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('WAS')" style="background: rgba(90, 20, 20, 0.1);">
                                        <span class="breakdown-label">🏛️ Washington Commanders:</span>
                                        <span class="breakdown-value green">$12.4M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">NFC NORTH</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('CHI')" style="background: rgba(11, 22, 42, 0.1);">
                                        <span class="breakdown-label">🐻 Chicago Bears:</span>
                                        <span class="breakdown-value green">$19.6M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('DET')" style="background: rgba(0, 118, 182, 0.1);">
                                        <span class="breakdown-label">🦁 Detroit Lions:</span>
                                        <span class="breakdown-value yellow">$1.8M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('GB')" style="background: rgba(24, 48, 40, 0.1);">
                                        <span class="breakdown-label">🧀 Green Bay Packers:</span>
                                        <span class="breakdown-value yellow">$6.2M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('MIN')" style="background: rgba(79, 38, 131, 0.1);">
                                        <span class="breakdown-label">⚔️ Minnesota Vikings:</span>
                                        <span class="breakdown-value green">$14.9M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">NFC SOUTH</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('ATL')" style="background: rgba(167, 25, 48, 0.1);">
                                        <span class="breakdown-label">🦅 Atlanta Falcons:</span>
                                        <span class="breakdown-value yellow">$3.5M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('CAR')" style="background: rgba(0, 133, 202, 0.1);">
                                        <span class="breakdown-label">🐾 Carolina Panthers:</span>
                                        <span class="breakdown-value green">$25.7M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('NO')" style="background: rgba(211, 188, 141, 0.1);">
                                        <span class="breakdown-label">⚜️ New Orleans Saints:</span>
                                        <span class="breakdown-value red">-$6.8M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('TB')" style="background: rgba(213, 10, 10, 0.1);">
                                        <span class="breakdown-label">🏴‍☠️ Tampa Bay Buccaneers:</span>
                                        <span class="breakdown-value yellow">$7.1M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-section">
                                    <div class="section-label">NFC WEST</div>
                                    <div class="breakdown-item" onclick="viewTeamCap('ARI')" style="background: rgba(151, 35, 63, 0.1);">
                                        <span class="breakdown-label">🦅 Arizona Cardinals:</span>
                                        <span class="breakdown-value green">$21.3M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('LAR')" style="background: rgba(0, 53, 148, 0.1);">
                                        <span class="breakdown-label">🐏 Los Angeles Rams:</span>
                                        <span class="breakdown-value red">-$1.9M over cap</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('SF')" style="background: rgba(170, 0, 0, 0.1);">
                                        <span class="breakdown-label">🌉 San Francisco 49ers:</span>
                                        <span class="breakdown-value yellow">$2.9M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                    <div class="breakdown-item" onclick="viewTeamCap('SEA')" style="background: rgba(0, 21, 50, 0.1);">
                                        <span class="breakdown-label">🦅 Seattle Seahawks:</span>
                                        <span class="breakdown-value green">$10.4M available</span>
                                        <span class="breakdown-arrow">→</span>
                                    </div>
                                </div>
                                
                                <div class="breakdown-actions">
                                    <button class="breakdown-action-btn" onclick="generateLeagueCapReport()">League Cap Report</button>
                                    <button class="breakdown-action-btn secondary" onclick="openCapComparison()">Team Comparison</button>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Concept Modules -->
                        <div class="intel-module" onclick="drillDown('free-agency')">
                            <div class="module-header">
                                <div class="module-title">Free Agency</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">12 Targets</div>
                                <div class="data-change">+3</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('injury-management')">
                            <div class="module-header">
                                <div class="module-title">Injury Management</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">3 Active</div>
                                <div class="data-change">-2</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('performance-analytics')">
                            <div class="module-header">
                                <div class="module-title">Performance Analytics</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">89.3%</div>
                                <div class="data-change">+1.2%</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('opponent-analysis')">
                            <div class="module-header">
                                <div class="module-title">Opponent Analysis</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">Next: DAL</div>
                                <div class="data-change">Week 10</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('practice-squad')">
                            <div class="module-header">
                                <div class="module-title">Practice Squad</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">16/16</div>
                                <div class="data-change">Full</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('coaching-staff')">
                            <div class="module-header">
                                <div class="module-title">Coaching Staff</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">24 Active</div>
                                <div class="data-change">+1</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('scouting-reports')">
                            <div class="module-header">
                                <div class="module-title">Scouting Reports</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">247 Active</div>
                                <div class="data-change">+15</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('facilities')">
                            <div class="module-header">
                                <div class="module-title">Facilities</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">95% Util</div>
                                <div class="data-change">+3%</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('fan-engagement')">
                            <div class="module-header">
                                <div class="module-title">Fan Engagement</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">92.7%</div>
                                <div class="data-change">+2.1%</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('revenue-streams')">
                            <div class="module-header">
                                <div class="module-title">Revenue Streams</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">$847M</div>
                                <div class="data-change">+12%</div>
                            </div>
                        </div>

                        <div class="intel-module" onclick="drillDown('compliance')">
                            <div class="module-header">
                                <div class="module-title">Compliance</div>
                                <div class="module-indicator"></div>
                            </div>
                            <div class="module-data">
                                <div class="data-value">100%</div>
                                <div class="data-change">✓</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Operations Panel -->
                <div class="operations-panel">
                    <div class="operation-section">
                        <div class="section-title">Quick Actions</div>
                        <button class="quick-action" onclick="quickAction('trade-calculator')">Trade Calculator</button>
                        <button class="quick-action" onclick="quickAction('waiver-claims')">Waiver Claims</button>
                        <button class="quick-action" onclick="quickAction('contract-restructure')">Contract Restructure</button>
                        <button class="quick-action secondary">Practice Squad</button>
                        <button class="quick-action secondary">Injury Report</button>
                    </div>

                    <div class="operation-section">
                        <div class="section-title">Live Feed</div>
                        <div class="live-feed">
                            <div class="feed-item">
                                <span class="feed-time">2:47 PM</span> - Jalen Hurts completed 85% of passes in practice
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">2:34 PM</span> - Saquon Barkley logged 47 carries this week
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">2:22 PM</span> - A.J. Brown cleared concussion protocol
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">2:15 PM</span> - Lane Johnson contract extension talks ongoing
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">2:08 PM</span> - Cowboys released WR Brandin Cooks
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">1:55 PM</span> - Defensive coordinator meeting scheduled 3 PM
                            </div>
                            <div class="feed-item">
                                <span class="feed-time">1:42 PM</span> - Medical staff reports 3 players questionable
                            </div>
                        </div>
                    </div>

                    <div class="operation-section">
                        <div class="section-title">Smart Alerts</div>
                        <button class="quick-action secondary">Cap Violations (0)</button>
                        <button class="quick-action secondary">Contract Deadlines (2)</button>
                        <button class="quick-action secondary">Roster Moves (3)</button>
                    </div>

                    <div class="operation-section">
                        <div class="section-title">AI Recommendations</div>
                        <button class="quick-action" onclick="aiRecommendation('trades')">Review Suggested Trades</button>
                        <button class="quick-action secondary">Scout Recommendations</button>
                        <button class="quick-action secondary">Cap Optimizations</button>
                    </div>
                </div>
            </div>

            <!-- Operations View -->
            <div class="view-section" id="operations-view">
                <div class="command-dashboard">
                    <div class="insights-sidebar">
                        <div class="insight-section">
                            <div class="insight-header">
                                <div class="insight-icon warning-icon"></div>
                                <div class="insight-title">Daily Operations</div>
                            </div>
                            <div class="insight-content">
                                Facility management, staff coordination, and operational efficiency monitoring.
                            </div>
                            <button class="insight-action">View Operations</button>
                        </div>
                    </div>
                    <div class="intelligence-grid">
                        <div style="padding: 2rem; text-align: center; color: var(--amt-accent);">
                            <h2>Operations Management Center</h2>
                            <p>Comprehensive facility and operational management interface coming soon...</p>
                        </div>
                    </div>
                    <div class="operations-panel">
                        <div class="operation-section">
                            <div class="section-title">Operations Tools</div>
                            <button class="quick-action">Facility Management</button>
                            <button class="quick-action">Staff Coordination</button>
                            <button class="quick-action">Resource Planning</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div class="view-section" id="analytics-view">
                <div class="command-dashboard">
                    <div class="insights-sidebar">
                        <div class="insight-section">
                            <div class="insight-header">
                                <div class="insight-icon chart-icon"></div>
                                <div class="insight-title">Performance Metrics</div>
                            </div>
                            <div class="insight-content">
                                Advanced analytics dashboard for player performance, team efficiency, and predictive modeling.
                            </div>
                            <button class="insight-action">View Analytics</button>
                        </div>
                    </div>
                    <div class="intelligence-grid">
                        <div style="padding: 2rem; text-align: center; color: var(--amt-accent);">
                            <h2>Advanced Analytics Center</h2>
                            <p>Comprehensive performance analytics and predictive modeling interface coming soon...</p>
                        </div>
                    </div>
                    <div class="operations-panel">
                        <div class="operation-section">
                            <div class="section-title">Analytics Tools</div>
                            <button class="quick-action">Player Metrics</button>
                            <button class="quick-action">Team Analytics</button>
                            <button class="quick-action">Predictive Models</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Draft View -->
            <div class="view-section" id="draft-view">
                <div class="command-dashboard">
                    <div class="insights-sidebar">
                        <div class="insight-section">
                            <div class="insight-header">
                                <div class="insight-icon target-icon"></div>
                                <div class="insight-title">Draft Strategy</div>
                            </div>
                            <div class="insight-content">
                                2025 NFL Draft approaching. Focus on CB and Safety positions for defensive secondary upgrade.
                            </div>
                            <button class="insight-action">View Draft Board</button>
                        </div>
                        <div class="insight-section">
                            <div class="insight-header">
                                <div class="insight-icon chart-icon"></div>
                                <div class="insight-title">Trade Opportunities</div>
                            </div>
                            <div class="insight-content">
                                Cardinals interested in trading up. Potential to gain additional 3rd round pick.
                            </div>
                            <button class="insight-action">Calculate Trade</button>
                        </div>
                    </div>
                    <div class="intelligence-grid">
                        <div style="padding: 2rem; text-align: center; color: var(--amt-accent);">
                            <h2>2025 NFL Draft War Room</h2>
                            <p>Comprehensive draft analysis and strategy planning interface coming soon...</p>
                        </div>
                    </div>
                    <div class="operations-panel">
                        <div class="operation-section">
                            <div class="section-title">Draft Tools</div>
                            <button class="quick-action">Big Board</button>
                            <button class="quick-action">Mock Simulator</button>
                            <button class="quick-action">Trade Calculator</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module Detail View -->
        <div id="moduleDetailView" class="module-detail-view">
            <div class="detail-header">
                <div class="detail-nav">
                    <button class="back-btn" onclick="returnToMain()">← Back to Command</button>
                    <div class="breadcrumb">
                        Command Center / <span class="breadcrumb-current" id="currentModuleName">Module</span>
                    </div>
                </div>
            </div>
            <div class="detail-content" id="moduleDetailContent">
                <!-- Module content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Chat Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-container">
            <div class="chat-header">
                <div id="chatAvatar" class="chat-avatar"></div>
                <div class="chat-info">
                    <h4 id="chatName"></h4>
                    <p id="chatRole"></p>
                </div>
                <button class="chat-close" onclick="closeChat()">×</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be populated here -->
            </div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="chatInput" placeholder="Ask about strategy, analysis, or operations..." onkeypress="handleChatKeypress(event)">
                <button class="chat-send" onclick="sendMessage()">→</button>
            </div>
        </div>
    </div>

    <!-- Include salary cap data integration for when module is loaded -->
    <script src="salary-cap-data-integration.js"></script>

    <script>
        // Global state
        let currentModule = null;

        // View Management
        function switchView(viewName) {
            // Handle HQ navigation
            if (viewName === 'hq') {
                alert('M.E.L. AI: Returning to Denauld Supreme Command HQ...');
                return;
            }
            
            // Hide all views
            document.querySelectorAll('.view-section').forEach(view => {
                view.classList.remove('active');
            });
            
            // Show selected view
            const targetView = document.getElementById(viewName + '-view');
            if (targetView) {
                targetView.classList.add('active');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Set active tab
            if (event && event.target) {
                event.target.classList.add('active');
            }
            
            console.log(`Switched to ${viewName.toUpperCase()} view`);
        }

        // ENHANCED DRILL DOWN FUNCTION - FIXED TO WORK WITH SALARY CAP MODULE
        async function drillDown(metric) {
            if (metric === 'salary-cap') {
                await loadModuleDetail('salary-cap', 'Salary Cap Management');
            } else {
                // For other modules, show coming soon
                alert(`M.E.L. AI: Deep drilling ${metric} analysis...`);
            }
        }

        // NEW FUNCTION: Load module detail view
        async function loadModuleDetail(moduleId, moduleName) {
            try {
                currentModule = moduleId;
                
                // Update breadcrumb
                document.getElementById('currentModuleName').textContent = moduleName;
                
                // Show loading state
                document.getElementById('moduleDetailContent').innerHTML = `
                    <div style="display: flex; justify-content: center; align-items: center; height: 50vh; font-size: 1.2rem;">
                        <div style="text-align: center;">
                            <div class="loading" style="width: 40px; height: 40px; margin: 0 auto 1rem; position: relative;"></div>
                            Loading ${moduleName}...
                        </div>
                    </div>
                `;
                
                // Hide main command center
                document.getElementById('mainCommandCenter').style.display = 'none';
                
                // Show module detail view
                document.getElementById('moduleDetailView').classList.add('active');
                
                if (moduleId === 'salary-cap') {
                    // Load salary cap module content
                    try {
                        const response = await fetch('salary-cap-detail.html');
                        if (response.ok) {
                            let htmlContent = await response.text();
                            
                            // Extract only the body content (remove html, head tags)
                            const parser = new DOMParser();
                            const doc = parser.parseFromString(htmlContent, 'text/html');
                            const bodyContent = doc.body.innerHTML;
                            
                            // Load the content
                            document.getElementById('moduleDetailContent').innerHTML = bodyContent;
                            
                            // Initialize salary cap data manager if available
                            if (typeof SalaryCapDataManager !== 'undefined') {
                                window.salaryCapManager = new SalaryCapDataManager();
                                console.log('✅ Salary Cap Module loaded with live data integration');
                            }
                            
                            // Re-run any initialization scripts
                            const scripts = doc.querySelectorAll('script');
                            scripts.forEach(script => {
                                if (script.innerHTML) {
                                    try {
                                        eval(script.innerHTML);
                                    } catch (e) {
                                        console.warn('Script execution warning:', e);
                                    }
                                }
                            });
                            
                        } else {
                            throw new Error('Failed to load salary cap module');
                        }
                    } catch (fetchError) {
                        // If fetch fails, show fallback message
                        console.warn('Could not load salary-cap-detail.html, showing fallback');
                        document.getElementById('moduleDetailContent').innerHTML = `
                            <div style="padding: 2rem; text-align: center;">
                                <h2 style="color: var(--amt-accent); margin-bottom: 1rem;">Salary Cap Management</h2>
                                <p style="color: var(--amt-light-gray); margin-bottom: 2rem;">The detailed salary cap module will load when salary-cap-detail.html is available.</p>
                                <p style="color: var(--amt-light-gray); margin-bottom: 2rem;">Make sure both salary-cap-detail.html and salary-cap-data-integration.js are in the same directory.</p>
                                <button class="back-btn" onclick="returnToMain()">Return to Command Center</button>
                            </div>
                        `;
                    }
                } else {
                    // For other modules - placeholder
                    document.getElementById('moduleDetailContent').innerHTML = `
                        <div style="padding: 2rem; text-align: center;">
                            <h2 style="color: var(--amt-accent); margin-bottom: 1rem;">${moduleName}</h2>
                            <p style="color: var(--amt-light-gray); margin-bottom: 2rem;">This module is under development and will be available soon.</p>
                            <button class="back-btn" onclick="returnToMain()">Return to Command Center</button>
                        </div>
                    `;
                }
                
                // Add to browser history
                history.pushState({module: moduleId}, moduleName, `#${moduleId}`);
                
            } catch (error) {
                console.error('Error loading module:', error);
                document.getElementById('moduleDetailContent').innerHTML = `
                    <div style="padding: 2rem; text-align: center;">
                        <h2 style="color: var(--amt-red); margin-bottom: 1rem;">Error Loading Module</h2>
                        <p style="color: var(--amt-light-gray); margin-bottom: 2rem;">There was an error loading ${moduleName}. Please try again.</p>
                        <button class="back-btn" onclick="returnToMain()">Return to Command Center</button>
                    </div>
                `;
            }
        }

        // NEW FUNCTION: Return to main command center
        function returnToMain() {
            // Hide module detail view
            document.getElementById('moduleDetailView').classList.remove('active');
            
            // Show main command center
            document.getElementById('mainCommandCenter').style.display = 'block';
            
            // Reset current module
            currentModule = null;
            
            // Clear module content to free up memory
            document.getElementById('moduleDetailContent').innerHTML = '';
            
            // Update browser history
            history.pushState({}, 'Command Center', '#');
            
            console.log('✅ Returned to main command center');
        }

        // Handle browser back button
        window.addEventListener('popstate', function(event) {
            if (currentModule) {
                returnToMain();
            }
        });

        // Enhanced Toggle Functions
        function toggleRosterHealth() {
            const breakdown = document.getElementById('roster-breakdown');
            const preview = document.getElementById('roster-preview');
            
            if (breakdown && preview) {
                if (breakdown.style.display === 'none') {
                    breakdown.style.display = 'block';
                    preview.style.display = 'none';
                } else {
                    breakdown.style.display = 'none';
                    preview.style.display = 'block';
                }
            }
        }

        function toggleContractEfficiency() {
            const breakdown = document.getElementById('contract-breakdown');
            const preview = document.getElementById('contract-preview');
            
            if (breakdown && preview) {
                if (breakdown.style.display === 'none') {
                    breakdown.style.display = 'block';
                    preview.style.display = 'none';
                } else {
                    breakdown.style.display = 'none';
                    preview.style.display = 'block';
                }
            }
        }

        function toggleDraftCapital() {
            const breakdown = document.getElementById('draft-breakdown');
            const preview = document.getElementById('draft-preview');
            
            if (breakdown && preview) {
                if (breakdown.style.display === 'none') {
                    breakdown.style.display = 'block';
                    preview.style.display = 'none';
                } else {
                    breakdown.style.display = 'none';
                    preview.style.display = 'block';
                }
            }
        }

        function toggleTradeAssets() {
            const breakdown = document.getElementById('trade-breakdown');
            const preview = document.getElementById('trade-preview');
            
            if (breakdown && preview) {
                if (breakdown.style.display === 'none') {
                    breakdown.style.display = 'block';
                    preview.style.display = 'none';
                } else {
                    breakdown.style.display = 'none';
                    preview.style.display = 'block';
                }
            }
        }

        // NEW FUNCTION: Toggle NFL Salary Cap Intelligence
        function toggleNFLCapIntel() {
            const breakdown = document.getElementById('nfl-cap-breakdown');
            const preview = document.getElementById('nfl-cap-preview');
            
            if (breakdown && preview) {
                if (breakdown.style.display === 'none') {
                    breakdown.style.display = 'block';
                    preview.style.display = 'none';
                } else {
                    breakdown.style.display = 'none';
                    preview.style.display = 'block';
                }
            }
        }

        // NEW FUNCTION: View individual team salary cap details
        function viewTeamCap(teamCode) {
            const teamNames = {
                'PHI': 'Philadelphia Eagles',
                'DAL': 'Dallas Cowboys',
                'NYG': 'New York Giants',
                'WAS': 'Washington Commanders',
                'BUF': 'Buffalo Bills',
                'MIA': 'Miami Dolphins',
                'NE': 'New England Patriots',
                'NYJ': 'New York Jets',
                'BAL': 'Baltimore Ravens',
                'CIN': 'Cincinnati Bengals',
                'CLE': 'Cleveland Browns',
                'PIT': 'Pittsburgh Steelers',
                'HOU': 'Houston Texans',
                'IND': 'Indianapolis Colts',
                'JAX': 'Jacksonville Jaguars',
                'TEN': 'Tennessee Titans',
                'DEN': 'Denver Broncos',
                'KC': 'Kansas City Chiefs',
                'LV': 'Las Vegas Raiders',
                'LAC': 'Los Angeles Chargers',
                'CHI': 'Chicago Bears',
                'DET': 'Detroit Lions',
                'GB': 'Green Bay Packers',
                'MIN': 'Minnesota Vikings',
                'ATL': 'Atlanta Falcons',
                'CAR': 'Carolina Panthers',
                'NO': 'New Orleans Saints',
                'TB': 'Tampa Bay Buccaneers',
                'ARI': 'Arizona Cardinals',
                'LAR': 'Los Angeles Rams',
                'SF': 'San Francisco 49ers',
                'SEA': 'Seattle Seahawks'
            };
            
            const teamName = teamNames[teamCode] || teamCode;
            
            if (teamCode === 'PHI') {
                alert(`M.E.L. AI: Loading ${teamName} salary cap details... This is YOUR team - accessing full organizational data including contracts, extensions, and restructure opportunities.`);
            } else {
                alert(`M.E.L. AI: Loading ${teamName} salary cap intelligence... Analyzing competitive data, trade opportunities, and cap space availability for strategic planning.`);
            }
        }

        // NEW FUNCTION: Generate league-wide cap report
        function generateLeagueCapReport() {
            alert('M.E.L. AI: Generating comprehensive NFL salary cap landscape report... Analyzing all 32 teams for strategic opportunities.');
        }

        // NEW FUNCTION: Open cap comparison tool
        function openCapComparison() {
            alert('M.E.L. AI: Opening team-by-team salary cap comparison tool... Select multiple teams to analyze competitive positioning.');
        }

        // Leadership Team Chat Function
        function openChat(leaderId) {
            const leaders = {
                'tony-rivera': {
                    name: 'Tony Rivera',
                    role: '"The Triangle Specialist" - Defensive Analyst',
                    avatar: 'TR',
                    color: 'defensive'
                },
                'derek-thompson': {
                    name: 'Derek Thompson',
                    role: '"The Pressure Specialist" - Pass Rush Analyst',
                    avatar: 'DT',
                    color: 'rush'
                },
                'dr-marcus-johnson': {
                    name: 'Dr. Marcus Johnson',
                    role: '"The Mind" - Sports Psychology Director',
                    avatar: 'MJ',
                    color: 'psychology'
                },
                'amanda-thompson': {
                    name: 'Coach Amanda Thompson',
                    role: '"The Mentor" - Director of Coach Development',
                    avatar: 'AT',
                    color: 'coaching'
                },
                'roberto-gutierrez': {
                    name: 'Roberto Gutierrez',
                    role: '"The Scout" - Director of Player Personnel',
                    avatar: 'RG',
                    color: 'scouting'
                },
                'sam-williams': {
                    name: 'Sam Williams',
                    role: '"The Teacher" - Offensive Analyst',
                    avatar: 'SW',
                    color: 'offensive'
                },
                'alex-chen': {
                    name: 'Alex Chen',
                    role: '"The Optimizer" - Special Teams Analyst',
                    avatar: 'AC',
                    color: 'analytics'
                },
                'marcus-lewis': {
                    name: 'Marcus Lewis',
                    role: '"The Coordinator" - Head Analytics Coordinator',
                    avatar: 'ML',
                    color: 'coordination'
                },
                'michael-rodriguez': {
                    name: 'Michael Rodriguez',
                    role: '"The Wall" - Defensive Coordinator',
                    avatar: 'MR',
                    color: 'field'
                }
            };
            
            const leader = leaders[leaderId];
            if (!leader) return;
            
            // Set up chat modal
            document.getElementById('chatName').textContent = leader.name;
            document.getElementById('chatRole').textContent = leader.role;
            
            const chatAvatar = document.getElementById('chatAvatar');
            chatAvatar.textContent = leader.avatar;
            chatAvatar.className = `chat-avatar ${leader.color}`;
            
            // Clear previous messages
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML = `
                <div class="message ai">
                    Hello! I'm ${leader.name}. ${generateChatResponse(leaderId, 'greeting')}
                </div>
            `;
            
            // Show modal
            document.getElementById('chatModal').style.display = 'block';
        }

        function closeChat() {
            document.getElementById('chatModal').style.display = 'none';
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            // Add user message
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.innerHTML += `
                <div class="message user">${message}</div>
            `;
            
            // Clear input
            input.value = '';
            
            // Generate AI response
            setTimeout(() => {
                const leaderId = getCurrentChatLeader();
                const response = generateChatResponse(leaderId, message);
                messagesContainer.innerHTML += `
                    <div class="message ai">${response}</div>
                `;
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function getCurrentChatLeader() {
            const chatName = document.getElementById('chatName').textContent;
            const leaderMap = {
                'Tony Rivera': 'tony-rivera',
                'Derek Thompson': 'derek-thompson',
                'Dr. Marcus Johnson': 'dr-marcus-johnson',
                'Coach Amanda Thompson': 'amanda-thompson',
                'Roberto Gutierrez': 'roberto-gutierrez',
                'Sam Williams': 'sam-williams',
                'Alex Chen': 'alex-chen',
                'Marcus Lewis': 'marcus-lewis',
                'Michael Rodriguez': 'michael-rodriguez'
            };
            return leaderMap[chatName] || 'tony-rivera';
        }

        function generateChatResponse(leaderId, message) {
            const responses = {
                'tony-rivera': {
                    greeting: "I specialize in Triangle Defense formations and defensive analysis. Ready to break down film and optimize our defensive strategy. How can I help with Triangle Defense implementation?",
                    default: "From a Triangle Defense perspective, our coverage schemes need fine-tuning. The data shows we can improve defensive efficiency by 12% with proper formation adjustments and better CLS implementation."
                },
                'derek-thompson': {
                    greeting: "My expertise is pass rush analytics and pressure generation. I analyze athletic performance and competitive intelligence. What aspects of our rush attack would you like to discuss?",
                    default: "Our pass rush win rate is solid at 34%, but I've identified 3 key adjustments that could push us to elite territory. Let's discuss edge rusher positioning and pressure packages."
                },
                'dr-marcus-johnson': {
                    greeting: "As our sports psychologist, I focus on mental performance optimization and player psychology. How can I help with performance mindset or mental preparation?",
                    default: "The mental aspect is crucial for peak performance. I'm seeing some confidence patterns that we need to address. Mental preparation can improve on-field performance by 15-20%."
                },
                'amanda-thompson': {
                    greeting: "I handle coach development and training excellence. My focus is educational innovation and coaching certification. What coaching strategies should we develop?",
                    default: "Our coaching efficiency metrics show room for improvement in educational methodology. I recommend implementing targeted development sessions with enhanced training protocols."
                },
                'roberto-gutierrez': {
                    greeting: "I'm responsible for player personnel and scouting operations. Let's discuss talent evaluation, recruiting intelligence, or player assessment strategies.",
                    default: "I've been tracking 23 potential targets that fit our scheme perfectly. The talent pipeline is strong - I have detailed scouting reports on 8 priority prospects."
                },
                'sam-williams': {
                    greeting: "I analyze our offensive systems with a focus on teaching excellence and educational methodology. How can I help optimize our offensive strategy?",
                    default: "Our offensive efficiency is strong, but I see opportunities in teaching methodology and route concepts. The data suggests we can improve through better educational approaches."
                },
                'alex-chen': {
                    greeting: "I specialize in special teams optimization and statistical analysis. My focus is data analysis and performance metrics. What analytics questions do you have?",
                    default: "Our special teams units are performing well, but I've identified statistical inefficiencies that could save us 4.2 yards per return. Let me show you the optimization data."
                },
                'marcus-lewis': {
                    greeting: "I coordinate our analytics efforts and integrate data across all football departments. What cross-functional analysis or coordination do you need?",
                    default: "I'm seeing interesting correlations between practice data and game performance. The analytics suggest we can optimize our coordination and data integration processes."
                },
                'michael-rodriguez': {
                    greeting: "I handle defensive coordination and Triangle Defense implementation with 15 years of field experience. What defensive operations or field strategy should we tackle?",
                    default: "Field operations are running smoothly. I recommend focusing on Triangle Defense implementation - we can improve our defensive effectiveness with tactical adjustments and better field leadership."
                }
            };
            
            const leaderResponses = responses[leaderId] || responses['tony-rivera'];
            
            if (message === 'greeting') {
                return leaderResponses.greeting;
            }
            
            return leaderResponses.default;
        }

        // Analysis and drill-down functions
        function analyzeInsight(type) {
            alert(`M.E.L. AI: Analyzing ${type}... Deep intelligence report generated.`);
        }

        function analyzeSchedule(game) {
            alert(`M.E.L. AI: Analyzing ${game} matchup scenarios and strategic implications...`);
        }

        function drillDeeper(metric) {
            alert(`M.E.L. AI: Comprehensive ${metric} analysis initiated. Generating detailed insights...`);
        }

        function quickAction(action) {
            alert(`M.E.L. AI: Executing ${action}... Interface loading.`);
        }

        function aiRecommendation(type) {
            alert(`M.E.L. AI: Generating ${type} recommendations based on current data...`);
        }

        // Report generation functions
        function generateHealthReport() {
            alert('M.E.L. AI: Generating comprehensive roster health report...');
        }

        function scheduleCheckup() {
            alert('M.E.L. AI: Scheduling team medical checkup...');
        }

        function generateContractReport() {
            alert('M.E.L. AI: Generating contract efficiency analysis report...');
        }

        function scheduleAgentMeetings() {
            alert('M.E.L. AI: Scheduling agent meetings for priority contracts...');
        }

        function generateDraftReport() {
            alert('M.E.L. AI: Generating comprehensive draft strategy report...');
        }

        function runDraftSimulator() {
            alert('M.E.L. AI: Launching advanced draft simulator...');
        }

        function generateTradeReport() {
            alert('M.E.L. AI: Generating trade asset valuation report...');
        }

        function openTradeSimulator() {
            alert('M.E.L. AI: Opening trade scenario simulator...');
        }

        function contractDetails(player) {
            alert(`M.E.L. AI: Opening detailed contract analysis for ${player}...`);
        }

        function tradeScenario(scenario) {
            alert(`M.E.L. AI: Analyzing trade scenario: ${scenario}...`);
        }

        // Add global refresh function for the salary cap module
        function refreshData() {
            if (window.salaryCapManager) {
                window.salaryCapManager.forceRefresh();
                console.log('🔄 Manual data refresh triggered');
            } else {
                alert('Live data refresh functionality will be available when viewing detailed modules.');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 NFL Executive Command Center - Complete with NFL Salary Cap Intelligence initialized');
        });
    </script>
</body>
</html>
